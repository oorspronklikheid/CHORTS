<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title> CHORTS</title>
</head>
<style type="text/css">
	
<style type="text/css">
	* { margin: 0; padding: 0;}

	body, html { height:99%;  width:99%; }


</style>
<body   >
<svg id='svgy' width='100%' height='100%'>
  <g id='ngroupy'> </g>
</svg>
<svg id='svgy2' width='100%' height='100%'>opacity:1" />'
  <g id='ngroupy'> </g>
</svg>
<select id='select'>
  <option value="sin">sin</option>
  <option value="noise">noise</option>
</select>
</body>
<script type="text/javascript" src="./chart.js"></script>
<script type="text/javascript">
	
let select = document.getElementById('select')
let svgy1 = document.getElementById('svgy')

setup(svgy1  , 0 )
setMargins(0 , 25,15,15,0)
addSpeedbreak(0 , {duration:5 ,	 pos:85 })
addSpeedbreak(0 , {duration:15 	, pos:70 })
addSpeedbreak(0 , {duration:35 	, pos:55 })
addSpeedbreak(0 , {duration:75 	, pos:40 })
addSpeedbreak(0 , {duration:155 	, pos:25 })
addSpeedbreak(0 , {duration:600 	, pos:10 })
addSpeedbreak(0 , {duration:1200 	, pos:0 })

function addData() {
		console.log('pushing?')
		let yVal = Math.random()*5 +50 +Math.sin(chartObj[0].t/400)*50 + 0
		if(select.value == 'noise')
			yVal = Math.random()*50 +50 
		chartObj[0].buffer[0].push(yVal)

}

setStep( 0 , 1000/30)
setInterval(addData , 1500)
setInterval( function(){loop(chartObj[0])} ,chartObj[0].step);



</script>
</html>
